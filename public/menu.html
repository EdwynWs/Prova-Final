<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Menu</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <a href="/cadastro">Cadastrar Equipe</a> |
    <a href="/cadastro2">Cadastrar Jogador</a> |
    <a href="/logout">Sair</a>
  </nav>
  <hr>

  <h2>Menu</h2>
  <p id="infoUsuario">Carregando...</p>

  <script>
    async function carregarInfo() {
      try {
        const resp = await fetch("/api/usuario", { credentials: "include" });
        if (resp.ok) {
          const dados = await resp.json();
          document.getElementById("infoUsuario").textContent = 
            `Usuário: ${dados.usuario} | Último acesso: ${dados.ultimoAcesso}`;
        } else {
          document.getElementById("infoUsuario").textContent = "Erro ao obter dados do usuário.";
        }
      } catch (e) {
        document.getElementById("infoUsuario").textContent = "Erro ao conectar com o servidor.";
      }
    }

    carregarInfo();
  </script>
</body>
</html>